package com.cyberbackend.cyberbackend.internship;
import com.cyberbackend.cyberbackend.config.GlobalResponseHandler; import com.cyberbackend.cyberbackend.dto.responses.PageResponseDTO; import com.cyberbackend.cyberbackend.enums.Level; import com.cyberbackend.cyberbackend.enums.Payment; import com.cyberbackend.cyberbackend.enums.Type; import lombok.AllArgsConstructor; import lombok.NoArgsConstructor; import org.springframework.beans.factory.annotation.Autowired; import org.springframework.data.domain.Page; import org.springframework.data.domain.PageRequest; import org.springframework.data.domain.Pageable; import org.springframework.http.HttpStatus; import org.springframework.http.ResponseEntity; import org.springframework.web.bind.annotation.*; import java.util.List; @RestController @RequestMapping("api/internships") @NoArgsConstructor @AllArgsConstructor public class InternshipController { @Autowired private InternshipService internshipService; @Autowired private GlobalResponseHandler responseHandler; @GetMapping public ResponseEntity<?> getAllInternshipsWithFilters(@RequestParam(required = false) List<Type> types, @RequestParam(required = false) List<Level> levels, @RequestParam(required = false) List<Payment> payments, @RequestParam(defaultValue = "1", required = false) int page, @RequestParam(defaultValue = "20", required = false) int size, @RequestParam(required = false) String search) { PageResponseDTO<Internship> internships = internshipService.getAllInternshipsWithFilters( levels, types, payments, search, page, size); return responseHandler.wrapResponse(internships, "Internships available.", true, HttpStatus.OK); } @GetMapping("{id}") public ResponseEntity<?> getSingleInternship(@PathVariable Long id) { return responseHandler.wrapResponse(internshipService.getSingleInternship(id), "Product available.", true, HttpStatus.OK); } }